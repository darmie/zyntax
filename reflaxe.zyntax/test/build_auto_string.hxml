# Test build file for automatic type transformation

# Disable DCE
-dce no

# Add reflaxe library FIRST  
-lib reflaxe.zyntax

# Add the runtime haxe directory to classpath
-cp ../runtime/haxe

# Add test directory
-cp .

# Force include runtime types BEFORE the transformer runs
--macro include('zyntax.runtime.ZyntaxString')
--macro include('zyntax.runtime.ZyntaxArray')
--macro include('zyntax.runtime.ZyntaxStringExtern')

# Initialize the TypeReplacer macro (AFTER runtime types are included)
--macro zyntax.runtime.TypeReplacer.initialize()

# Main class
-main AutoStringTest

# Output directory for TypedAST JSON
-D zyntax-output=output
